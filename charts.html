<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      // Given an array of numbers and a count, return the D'Hondt distribution
      function dhondt(N, votes) {
        var ndist = votes.length;
        var dist = new Array(ndist);
        for (var i = 0; i < ndist; ++i) dist[i] = [i, 0];
        dist.sort(function(a, b) { return votes[b[0]] - votes[a[0]]; })
        for (var i = 0; i < N; ++i) {
          lead = dist[0];
          ++lead[1];
          for (var j = 1; j <= ndist; ++j) {
            if (j == ndist || votes[dist[j][0]] * (lead[1] + 1) < votes[lead[0]] * (dist[j][1] + 1)) {
              dist[j - 1] = lead;
              break;
            }
            dist[j - 1] = dist[j];
          }
        }
        var res = new Array(ndist);
        dist.forEach(function(a) { res[a[0]] = a[1]; })
        return res;
      }
                     



    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Partido');
        data.addColumn('number', 'Votos válidos');
        data.addColumn('number', 'Congresistas');
        data.addRows([
                     ['Frente Popular',1595499,0]
                     ['PPK',1072000,0],
                     ['Frente Amplio',415738,0],
                     ['APP',239894,0],
                     ['Apra/PPC',379539,0],
                     ['Acción Popular',331148,0],
                     ['Democracia Directa',42915,0],
                     ['Perú Posible',131285,0],
                     ['Esperanza',63821,0],
                     ['Orden',37970,0],
                     ['Progresando',0,0]
                     );
        var npartidos = data.getNumberOfRows;
        var votos = new Array(npartidos);
        for (var i = 0; i < npartidos; ++i) votos[i] = data.getValue(i,1);
        var dist = dhondt(36, votos);
        for (var i = 0; i < npartidos; ++i) data.setValue(i, 2, dist[i]);
        // Set chart options
        var options = {'title':'Congresistas en Lima',
          'width':400,
          'height':300};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
  </head>
 <body>
   <div id="chart_div"></div>
 </body>
</html>
